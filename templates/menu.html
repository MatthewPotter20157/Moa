{% extends "base.html" %}

{% block main %}
    {% for word in words %}
        <button class="word" data-maori="{{ word[0] }}" data-english="{{ word[1] }}" data-category="{{ word[2] }}" data-definition="{{ word[3] }}" data-year="{{ word[4] }}" user="{{ word[5] }}" image="{{ word[6] }}">{{ word[0] }} <> {{ word[1] }}</button>
    {% endfor %}

    <!-- Thanks to Harshal for showing me a better way of displaying the data -->
    <dialog id="dialog">
        <div id="message"></div>
        <button id="close_btn">Close</button>
        <button id="delete">Delete</button>
    </dialog>

    <script>
        document.querySelectorAll('.word').forEach(button => {
            button.addEventListener('click', function() {
                const maori = this.getAttribute("data-maori");
                const english = this.getAttribute("data-english");
                const category = this.getAttribute("data-category");
                const definition = this.getAttribute("data-definition");
                const year = this.getAttribute("data-year");
                const user = this.getAttribute("user");
                const images = this.getAttribute("image")

                const message = `<img src="static/images/${images}.png" class=images><br>Maori = ${maori}<br>English = ${english}<br>Category = ${category}<br>Definition = ${definition}<br>Year = ${year}<br>User = ${user}`;

                const dialog = document.getElementById('dialog');
                const container = document.getElementById('message');
                container.innerHTML = message;
                dialog.showModal();
            });
        });

        const closeButton = document.getElementById('close_btn');
        closeButton.addEventListener('click', function() {
            const dialog = document.getElementById('dialog');
            dialog.close();
        });


        const deleteButton = document.getElementById('delete');
        deleteButton.addEventListener('click', function() {
        });
    </script>
{% endblock %}